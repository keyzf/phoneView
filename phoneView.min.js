(function(e){e.fn.phoneView=function(t){var n={maxLen:40},r=e.extend({},n,t);return this.each(function(){var t=e(this);t.attr("maxlength",r.maxLen),t.off("keyup.phoneView change.phoneView input.phoneView").on("keyup.phoneView change.phoneView input.phoneView",function(t){var n=t.keyCode,r=n==8,i=e(this),s=i.val(),o=s.replace(/-/g,""),u=s,a=i.attr("is-format")?i.attr("is-format")=="false"?!1:!0:!1;switch(s.length){case 4:s.indexOf("-")!=-1&&r?u=o:/^0[1|2]\d{2}$/.test(s)&&(u=s.substring(0,3)+"-"+s.substring(3,s.length),a=!0);break;case 5:s.indexOf("-")!=-1&&r?/^0[3-9]\d{2}-$/.test(s)&&(u=o):/^0[3-9]\d{3}$/.test(s)&&(u=s.substring(0,4)+"-"+s.substring(4,s.length),a=!0);break;case 9:/^1[3-8][0-9]-\d{4}-/.test(s)&&s.indexOf("-")!=-1&&r?(u=s.substring(0,8),a=!0):/^1[3-8][0-9]\d+$/.test(s)?(u=s.substring(0,3)+"-"+s.substring(3,7)+"-"+s.substring(7,9),a=!0):/^1[3-8][0-9]-\d{5}$/.test(s)&&(u=s.substring(0,8)+"-"+s.substring(8,s.length),a=!0);break;case 10:s.indexOf("-")==-1?/^0[1|2]\d{8}$/.test(s)&&(u=s.substring(0,3)+"-"+s.substring(3,10),a=!0):/^1[3-8][0-9]-\d{4}-\d{1}$/.test(s)&&r&&(u=o);break;case 11:s.indexOf("-")==-1&&(/^1[3-8]+\d{9}/.test(s)?(u=s.substring(0,3)+"-"+s.substring(3,7)+"-"+s.substring(7,11),a=!0):/^0[1|2]\d{9}$/.test(s)?(u=s.substring(0,3)+"-"+s.substring(3,11),a=!0):/^0[3-9]\d{9}$/.test(s)&&(u=s.substring(0,4)+"-"+s.substring(4,11),a=!0));break;case 12:s.indexOf("-")==-1&&/^0[3-9]\d{10}$/.test(s)&&(u=s.substring(0,4)+"-"+s.substring(4,12),a=!0);break;case 13:/^0[1|2]\d-\d{9}$/.test(s)&&(u=o);break;case 14:/^1[3-8][0-9]-\d{4}-\d{5}$/.test(s)?u=o:/^0[3-9]\d{2}-\d{9}$/.test(s)&&(u=o)}!/^[\d|-]*$/.test(s)&&a&&(u=o),u==o&&(a=!1),i.val(u).attr("data-num",o).attr("is-format",a)})})},e.fn.phoneView.version=.5})(jQuery);